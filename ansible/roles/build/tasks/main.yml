- name: add line to bashrc
  lineinfile: dest={{ ansible_env.HOME }}/.bashrc line="source /opt/ros/humble/setup.bash"

- name: Creates build directory
  file:
    path: ../Sophus_build
    state: directory

- name: build Sophus
  become: yes
  shell: |
    cd ../Sophus_build
    cmake ../Sophus
    make install
- name: set environment forROS 2
  shell: source /opt/ros/humble/setup.bash
  args:
    executable: /bin/bash

- name: colcon build
  shell: |
    cd ../sirius_ws 
    colcon build --symlink-install
